<h1><%= @room.name %> posted by <%= @room.user.name %></h1>

<%= @room.image %>
<%= @room.body %>

<h2>Comments</h2>
<% @comments.each do |comment| %>
 <p>
   <strong><%= comment.user.name %>:</strong>
   <%= comment.comment %>
 </p>
<% end %>

<% if current_user %>
        <% if current_user.bookmarks.exists?(room_id: @room.id) %>
          <%= link_to 'Unbookmark', room_bookmark_path(@room, @room.bookmarks.find_by(user_id: current_user.id)), method: :delete, class: 'btn btn-danger' %>
        <% else %>
          <%= link_to 'Bookmark', room_bookmarks_path(@room), method: :post, class: 'btn btn-primary' %>
        <% end %>
        
        <% if Like.exists?(ip_address: request.remote_ip, room_id: @room.id) %>
  <%= link_to 'Unlike', room_like_path(@room, Like.find_by(ip_address: request.remote_ip, room_id: @room.id)), method: :delete, class: 'btn btn-danger' %>
<% else %>
  <%= link_to 'Like', room_likes_path(@room), method: :post, class: 'btn btn-primary' %>
<% end %>


<%= link_to 'Edit', edit_room_path(@room) %>
<%= link_to 'Destroy', public_room(@room), method: :delete, "data-confirm" => "Are you sure?" %>
<%= link_to 'Back', public_rooms_path %>
